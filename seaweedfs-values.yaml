# SeaweedFS Helm Values for Mimir S3-Compatible Object Storage
# Deployed in the 'mimir' namespace alongside Mimir

global:
  # Main storage layer
  storageClassName: "mimir"

master:
  replicas: 1
  data:
    type: "persistentVolumeClaim"
    size: "5Gi"
    storageClass: "mimir"
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

volume:
  replicas: 1
  affinity: {}
  # Increase max volumes (default is 7, which is too low for Mimir's multiple collections)
  maxVolumes: 100
  dataDirs:
    - name: data1
      type: "persistentVolumeClaim"
      size: "20Gi"
      storageClass: "mimir"
      maxVolumes: 100
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 1000m
      memory: 1Gi

filer:
  replicas: 1
  data:
    type: "persistentVolumeClaim"
    size: "5Gi"
    storageClass: "mimir"
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  # Disable S3 on filer (using standalone S3 component)
  s3:
    enabled: false
    port: 8333

s3:
  enabled: true
  replicas: 1
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 256Mi
  enableAuth: true
  existingConfigSecret: seaweedfs-s3-secret
